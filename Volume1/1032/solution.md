# Parliament

## 题目

给定 n，5 <= n <= 1000

构造两两不相等的正整数升序数列 a[] 使得 a 所有元素之和为 n

求使得所有元素之积最大的数列 a


## 方法

数学

设答案为 a[1], a[2], ..., a[m]，则 a[1] + a[2] + ... + a[m] = n

1. 显然 a[1] > 1

    若 a[1] = 1，则 a[m] + 1 可以替代 a[1] 和 a[m] 得到更优解

    因为 a[2] * a[3] * ... * (a[m] + 1) > a[1] * a[2] * ... * a[m]

2. a[i + 1] - a[i] <= 2

    若 a[i + 1] - a[i] >= 3，则 a[i] + 1, a[i + 1] - 1 可以替代 a[i], a[i + 1] 得到更优解

    因为 (a[i] + 1) * (a[i + 1] - 1) = a[i] * a[i + 1] + (a[i + 1] - a[i] - 1) > a[i] * a[i + 1]

3. 最多只存在一个 i 使得 a[i + 1] - a[i] = 2

    若 i < j 且 a[i + 1] - a[i] = 2, a[j + 1] - a[j] = 2，则 a[i] + 1, a[j + 1] - 1 可以替代 a[i], a[j + 1] 得到更优解

    因为 (a[i] + 1) * (a[j + 1] - 1) = a[i] * a[j + 1] + (a[j + 1] - a[i] - 1) > a[i] * a[j + 1]

4. a[1] <= 3

    若 a[1] >= 4，则 2, a[1] - 1, a[2] - 1 可以替代 a[1], a[2] 得到更优解

    2 * (a[1] - 1) * (a[2] - 1) = 2 * (a[1] * a[2] - a[1] - a[2] + 1) = a[1] * a[2] + (a[1] * a[2] - 2 * a[1] - 2 * a[2]) + 2  > a[1] * a[2] + 2 + (a[1] * a[2] - 4 * a[2])

    而 a[1] * a[2] - 4 * a[2] = (a[1] - 4) * a[2] >= 0

    故上式左侧 > a[1] * a[2] + 2 > a[1] * a[2]

5. 若 a[1] = 3 且存在 i 满足 a[i + 1] - a[i] = 2，则 i = m - 1

    若 i < m - 1，则 a[i + 2] = a[i + 1] + 1

    2, a[i + 2] - 2 可以替代 a[i + 2] 得到更优解

    2 * (a[i + 2] - 2) = a[i + 2] + (a[i + 2] - 4) > a[i + 2]

设 k 满足

s = 2 + 3 + ... + (k - 1) + k, s <= n < s + (k + 1)

设 x = n - s，则

若 x = 0，则 a = [2, 3, ..., k - 1, k]

若 1 <= x <= k - 1，则 a = [2, 3, ..., k - x, (k - x + 1) + 1, ..., (k - 1) + 1, k + 1]，即对上述情况的 a 后 x 项加 1

若 x = k，则 a = [3, 4, ..., k, k + 2]
