# Parallel Expectations

## 题目

给定两个程序，共享各变量的值，运行时随机选一个程序执行一条语句

求各变量的期望值


## 方法

动态规划

设 f[i][j] 为程序 1 执行前 i 条语句、程序 2 执行前 j 条语句后某个变量或寄存器的平均值

p1, p2 分别为当前状态发生且最后执行程序 1 语句 i、程序 2 语句 2 的概率

则 f[i][j] = (f[i - 1][j] * p1 + f[i][j - 1] * p2) / (p1 + p2)

若 i == n1 且 j == n2，则 p1 = p[i - 1][j], p2 = p[i][j - 1]

若 i  < n1 且 j == n2，则 p1 = p[i - 1][j], p2 = p[i][j - 1] / 2

若 i == n1 且 j  < n2，则 p1 = p[i - 1][j] / 2, p2 = p[i][j - 1]

若 i  < n1 且 j  < n2，则 p1 = p[i - 1][j] / 2, p2 = p[i][j - 1] / 2

p[i][j] = p1 + p2

其中 n1, n2 分别为程序 1、程序 2 的语句总数

答案为各变量的 f[n1][n2]


## 注意

需要加输入优化避免超时
